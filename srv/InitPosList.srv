float64[] x
float64[] y
int64[] dir
---
int64 result